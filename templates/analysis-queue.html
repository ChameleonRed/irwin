{% import 'macros/base.html' as base %}
{% import 'macros/nav.html' as nav %}
<!doctype html>
<html lang="en">
{{ base.header('Player Analysis Queue') }}
  <body>
    {{ nav.search() }}
    {{ nav.sidebar('analysis-queue') }}
    <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
      <h1>Player Analysis Queue</h1>
          <div class="table-responsive">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>Precedence</th>
                  <th>Username</th>
                  <th>Origin</th>
                  <th>Created</th>
                  <th>Owner</th>
                  <th>Progress</th>
                  <th>Links</th>
                </tr>
              </thead>
              {% for queue in top %}
              <tr>
                <td>{{queue.precedence}}</td>
                <td>{{queue.id}}</td>
                <td>{{queue.origin}}</td>
                <td>{{"{:%d %b %Y}".format(queue.date)}}</td>
                {% if queue.owner is not none %}
                <td>{{queue.owner}}</td>
                {% else %}
                <td></td>
                {% endif %}
                <td>{{queue.progress}}</td>
                <td>
                  <a href="{{url_for('player', userId=queue.id)}}">
                    <span data-feather="user"></span>
                     Irwin Profile
                  </a><br><br>
                  <a href="https://lichess.org/@/{{queue.id}}?mod">
                    <span data-feather="arrow-up-right"></span>
                     Lichess Profile
                  </a>
                </td>
              {% endfor %}
            </table>
          </div>
    </main>
  {{ base.scripts() }}
  </body>
</html>